<figure class="margin-top" ng-controller="clazzCtrl">
    <button id="clipBtn" class="btn btn-default btn-copy" ng-click="popover.show()" ng-mouseleave="popover.hide()" data-clipboard-target="#clazzContent"><i class="fa fa-clipboard"></i> 复制</button>
    <pre id="clazzContent">${tpl}</pre>
</figure>

<script type="text/javascript">
    'use strict';
    function clazzCtrl($scope) {
        angular.extend($scope, {
            // 初始化
            init: function() {
                $scope.clipboard = new Clipboard('#clipBtn');
                angular.element('#clipBtn').tooltip({
                    placement: 'top',
                    title: '已复制',
                    trigger: 'manual'
                });
            },

            // 冒泡方法集合
            popover: {
                // 显示
                show: function() {
                    angular.element('#clipBtn').tooltip('show');
                },

                // 隐藏
                hide: function() {
                    angular.element('#clipBtn').tooltip('hide');
                }
            }
        }).init();
    }
</script>