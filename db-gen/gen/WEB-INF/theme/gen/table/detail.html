<div ng-controller="detailCtrl">
    <ul class="nav nav-tabs">
        <li ng-repeat="tab in tabs" ng-class="{active: current.tab===tab}"><a href="#" ng-bind="tab.name" ng-click="activeTab(tab)"></a></li>
    </ul>
    <div ng-include="tabUrl"></div>
</div>

<script type="text/javascript">
    'use strict';
    function detailCtrl($scope) {
        angular.extend($scope, {
            // 初始化
            init: function() {
                $scope.setupTabs();
            },

            // 初始化标签
            setupTabs: function() {
                $scope.tabs = [];
                $scope.tabs.push({name: '字段', url: '${app}/table/columns'});
                $scope.tabs.push({name: '索引', url: '${app}/table/indexes'});
                $scope.tabs.push({name: '脚本', url: '${app}/table/template/' + $scope.current.table.id + '/table_template_dll'});
                $scope.tabs.push({name: '模型', url: '${app}/table/template/' + $scope.current.table.id + '/table_template_entity'});
                $scope.tabs.push({name: '设置', url: '${app}/table/setup'});
                $scope.activeTab($scope.tabs[0]);
            },

            // 激活标签
            activeTab: function(tab) {
                $scope.tabUrl = tab.url + '?' + $scope.timestamp();
                $scope.current.tab = tab;
            }
        }).init();
    }
</script>